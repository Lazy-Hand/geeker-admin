<template>
  <div flex>
    <TreeFilter label="title" :defaultValue="1" :requestApi="getAuthMenuListApi" @change="changeTreeFilter" />
    <div ml-10>
      <div>
        <el-button type="primary" @click="closeDialog">ä½¿ç”¨é€‰ä¸­å›¾ç‰‡</el-button>
        <el-button :icon="Upload" mr-3></el-button>
        <el-tree-select :render-after-expand="false" check-strictly placeholder="å›¾ç‰‡ç§»åŠ¨è‡³" />
      </div>
    </div>
  </div>
</template>
<script setup lang="ts">
import TreeFilter from "@/components/TreeFilter/index.vue";
import { getAuthMenuListApi } from "@/api/modules/login";
import { ElMessage } from "element-plus";
import { ref } from "vue";
import { Upload } from "@element-plus/icons-vue";
/**
 * @description é€‰ä¸­idé›†åˆ è¯·æ±‚å‚æ•°
 */
const selectVal = ref<number>();
/**
 * @description æ ‘å½¢ç­›é€‰åˆ‡æ¢
 * @param {Array} val é€‰ä¸­idé›†åˆ
 */
const changeTreeFilter = (val: number) => {
  console.log("ğŸš€ ~ file: index.vue:72 ~ changeTreeFilter ~ val", val);
  ElMessage.success("è¯·æ³¨æ„æŸ¥çœ‹è¯·æ±‚å‚æ•°å˜åŒ– ğŸ¤”");
  selectVal.value = val;
};

const emit = defineEmits(["close"]);
const closeDialog = () => {
  emit("close", {
    submit: true,
    url: "https://gbw-resource.oss-cn-shanghai.aliyuncs.com/20230517/cdb0312d51de497e8472f5cfb8b7aece_login_left5.png"
  });
};
</script>

<style lang="scss" scoped></style>
